CIP
===

test

Повестка - совещание
Графический интерфейс пользователя:
1.Главная страница
Картинка	Кнопка настройки сервера (раскрывает поля настройки сервера (адрес, логин, пароль), и кнопку сохранить)
Дата проведения	Название совещания	Кнопка Рус/Тат, 
Статус обновления
Вопросы списком.
(при нажатии кнопкой мыши на вопрос, перейти к материалам вопроса)

2.  Страница материалов вопроса

Текущий вопрос, к которому относится материал	Кнопка к повестке
Кнопка повернуть на 90 градусов	
Предыдущий материал	Материал вопроса	Следующий материал
Кнопка предыдущий (предыдущий материал)	Кнопка к началу
(первый материал текущего вопроса)	Кнопка следующий (следующий материал, если у текущего вопроса материалы закончились, перейти к следующему)


Логика работы приложения.
Пользователь видит загруженную повестку-совещание считающуюся актуальной на данный момент. 
Материалы вопросов текущей повестки-совещания  хранятся на локальном диске.
Структура текущей повестки-совещания имеет измененные ссылки на материалы, т.к. материалы хранятся уже не на сервере, а на локальной машине.
Если есть подключение к сети, в приложении запускается в отдельном потоке процесс, который отслеживает обновление повестки, этот процесс авторизует подключение к серверу, и сравнивает дату редактирования файла povestka.xml, если дата не совпадает с той, которая записана как актуальная, происходит остановка проверки, статус обновления сбрасывается на не обновленный. При не обновленном статусе процесс последовательно загружает xml, и все jpegна которые она ссылается.  Затем в случае успеха обновления, заменяет текущий объект представления на актуальный, выставляет статус обновлено, и удаляет неактуальные материалы. После чего возвращается к проверке статуса обновления, в противном случае попытка скачать материал повторяется.

Потоки информации.
Настройки соединения с сервером хранятся в файле serversetup.ini
Структура актуальной повестки, и время актуальности храниться в файле actual.xml
Структура обновляемых данных храниться в оперативной памяти.
Информация пользователю передается из актуального объекта, в каждый момент времени актуальный объект должен быть определен.
Материалы к вопросам хранятся в каталоге /Data(!примечание, в случае необходимости разграничения конфликта имен, имя файла материала скаченное с сервера получает дополнение _N, где N – целое число полученное последовательным прибавлением, до тех пор, пока имя не будет не занятым в данном каталоге)
Проектирование классов.

Класс Повестка
 объекты этого класса должны содержать: 
дату проведения, 
название, 
массив объектов класса вопросы
объекты этого класса должны уметь: 
получать данные
передавать свои данные для отображения графическому интерфейсу, или для записи в файл
{передавать данные о текущей или актуальной повестке}
{загрузка и удаление файла повестки}
Класс Вопросы
объекты этого класса должны содержать:
номер, 
название, 
ФИО одного или нескольких выступающих,
ссылки на материалы по вопросу.
они должны уметь:
Получать данные
Передавать свои данные 

Класс работы с XML файлами 
объекты этого класса должны содержать:
	адрес расположения файла
	структура для хранения файла в памяти	
они должны уметь:
Получать адрес расположения файла
	Загружать файл xml
	Сохранять файлxml
	Получать данные для формирования xml
	Передавать данные полученные из xml, согласно сформированному запросу

Класс работы с сервером
объекты этого класса должны содержать:
	адрес сервера
	логин
	пароль
они должны уметь:
	сохранять настройки в файл serversetup.xml
	загружать настройки из файла serversetup.xml
	получать данные (адрес, логин, пароль)
	передавать данные  (адрес, логин, пароль, статус сети, статус авторизации)
	проверять статус сети
	проверять статус авторизации
{Проверка статуса обновления}
	совершать авторизацию на сервере
	узнавать дату изменения файла на сервере
	скачивать файл povestka.xmlс сервера с заменой на локальной машине
	скачивать файл материала с сервера в папку /Data, и передавать новое расположение и имя файла

Класс графического интерфейса 
объекты этого класса должны содержать:
	объект класса повестки
	объект класса работы с сервером
язык (рус/тат)
активный экран (повестка, один из материалов вопроса)
они должны уметь:
	проверять актуальность загруженной повестки, и передавать команду на удаление неактуальных материалов объекту класса обновления
получать данные настроек сервера с формы
получать команду переключения языка
получать команды навигации на главной странице
получать команды навигации материала
	отображатьданные настроек сервера
	отображать повестку
	отображать статус соединения с сетью
	отображать статус обновления
	отображать материал

Структура XMLфайлов	
povestka.xml &&actual.xml

serversetup.xml
